\documentclass[
  lang = cn,
  class = book,
  layout = margin,
]{ztex}
\usepackage{zhlipsum}
\ztocenabletable
\zsecformat\chapter 
  {
    explicit = true,
    code = 
      {
        \mbox{}\vskip-9em
        \hfill{\huge\sffamily #2}
        \;\;\rlap{\rule[-3pt]{1pt}{8em}\;\,\scalebox{3}{\bfseries #1}}
        \vskip14em
      },
  }


\begin{document}
\setcounter{chapter}{6}
\chapter{数学和显示框}
\marginpar{%
  {\ztocformat\section{leader.sep=2.5pt, page.width=6pt}\zlocaltoc{chapter}{1}}%
  这里是一个局部侧边目录, 你可以使用任何的东西.
}
\zhlipsum[1]


\section{基本原则}
\marginpar{一些无意义的废话, 巴拉巴拉, 巴拉巴拉, 巴拉巴拉, 巴拉巴拉.}
\section{Boxes \& Custom Environments}
\section{Experiments}

\end{document}